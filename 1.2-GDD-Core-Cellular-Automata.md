# GDTLancer - Cellular Automata Implementation

**Version:** 1.2
**Date:** October 31, 2025
**Related Documents:** 0.1-GDD-Main.md (v1.9), 1.1-GDD-Core-Systems.md (v1.5), 6.1-GDD-Lore-Background.md (v1.5), 6.3-GDD-Narrative-Borders.md (v1.0)

## 1. Overview & Philosophy

This document outlines the implementation of Cellular Automata (CA) as a core technology for driving the "living world" and "emergent narrative" pillars of GDTLancer.

The core philosophy is that CA are not player-facing minigames, but background simulation engines. The player influences these simulations indirectly through their standard gameplay actions, and the results are presented back to them through intuitive, diegetic means such as changing maps, narrative descriptions, dialogue, and evolving gameplay opportunities. This approach ensures the player is aware of their impact on the world without breaking immersion with raw data or overly complex interfaces.

## 2. Phase 1 Implementation Approach

For the Phase 1 demo, all CA implementations will be lightweight "stubs" designed to hint at their future depth.
* They will primarily be advanced by the **`World Event Tick`**.
* They will be influenced by the outcomes of the player's **Narrative Actions**, which are resolved by the **`CoreMechanicsAPI`**.
* Their results will be exposed through existing or simple new UI elements, dialogue, and contextual gameplay changes.

## 3. Catalogue of CA Implementations

### World & Faction Simulation

#### 1. Strategic Map
* **Description:** A high-level CA where each cell represents a major location in the sector. The simulation models the ebb and flow of faction control, pirate activity, and economic stability over time.
* **Phase 1 Stub:** The simulation runs in the background, seeded by player actions (e.g., completing faction contracts, defeating pirates). It modifies a simple set of "World Stat" variables.
* **Player Access / Feedback:** A dedicated **"Sector Intel Map"** screen in the UI. This map displays locations with colored overlays representing the dominant faction's influence. After a `World Event Tick`, the player can see these colored borders subtly shift. A side panel displays the abstracted world stats as text, such as `Pirate Activity: Declining` or `Economic Outlook: Growing`.

#### 2. Supply & Demand Flow
* **Description:** A layer on the Strategic Map CA that models the propagation of resource needs and surpluses across the sector.
* **Phase 1 Stub:** Player trading actions (e.g., selling a large amount of cargo) change the state of a location's commodity (e.g., from `Normal` to `Surplus`). This state then spreads to neighboring locations over subsequent `World Event Ticks`.
* **Player Access / Feedback:** The **"Station Bulletin Board"** UI. The player does not see the raw data but instead reads narrative rumors generated by the simulation's state: *"Market chatter indicates a major surplus of Scrap Metal at Scrapyard Station."* This provides actionable intelligence that feels organic.

### Gameplay & Exploration Mechanics

#### 3. System Surveying (Anomaly Mapping)
* **Description:** A temporary, mini-CA that simulates the exploration and analysis of a volatile, uncharted cosmic anomaly, reflecting the dangers of exploring uncharted space.
* **Phase 1 Stub:** Unlocked by an "Explorer-class" ship. The `Chart Anomaly` Narrative Action triggers a fire-and-forget simulation that runs for a set amount of Time Units.
* **Player Access / Feedback:** A stylized **"Probe Data Report"** received as an in-game message. It displays a static, graphical snapshot of the anomaly's final state, accompanied by a narrative summary: *"Survey complete. The anomaly contains a high concentration of stable exotic particles. Data sold for +15 WP."*

#### 4. Salvage Analysis
* **Description:** A temporary mini-CA representing the complex process of sifting through salvaged wreckage for usable technology, reinforcing the setting's theme of iterative engineering.
* **Phase 1 Stub:** Triggered by an `Analyze Salvage` Narrative Action after combat. A background simulation runs to determine what can be successfully reverse-engineered.
* **Player Access / Feedback:** A narrative **"Workshop Analysis Report"** appears in the Hangar UI. It does not show the simulation, only the outcome: *"Analysis of the salvaged pirate vessel was successful. Our technicians have isolated a schematic for a more efficient engine manifold. **Progress made on 'Prospector Ship' Acquisition Project.**"*

### Social & Narrative Dynamics

#### 5. Influence Network
* **Description:** A non-spatial CA that models how information, rumors, and reputation propagate through the player's network of NPC Contacts.
* **Phase 1 Stub:** The state of "knowing" something (e.g., `Knows Player's Good Deed`) spreads from one Contact to their allies during `World Event Ticks`.
* **Player Access / Feedback:** Contextual dialogue. The player experiences this when a Contact references information they couldn't have known firsthand: *"I was talking to Officer Kai. He mentioned you handled that pirate situation quite well. I like that."* This makes the social world feel interconnected and alive.

#### 6. Ideological Alignment
* **Description:** A location-based CA where social cliques shift their ideological stance (e.g., Procedural vs. Pragmatic) based on world events and the player's actions.
* **Phase 1 Stub:** The player's `Risky` vs. `Cautious` action approaches push the alignment of relevant cliques.
* **Player Access / Feedback:** Environmental storytelling through the **type of contracts available**. A pragmatically-aligned station will offer more legally-gray but high-paying jobs, while a procedurally-aligned one will offer lawful but less lucrative contracts. The player feels their influence through the opportunities presented to them.

#### 7. Rivalry & Alliance Network
* **Description:** A CA modeling the evolving relationships *between* NPCs, creating a dynamic web of friends and rivals.
* **Phase 1 Stub:** Player actions, especially in "Contact Dilemma" events, can change the state of the link between two NPCs from `Neutral` to `Rivalry` or `Alliance`.
* **Player Access / Feedback:** Conflicting gameplay opportunities. When the player accepts a mission from Contact A, a competing mission from their rival, Contact B, may become unavailable, with a message explaining the conflict of interest. This makes social navigation a tangible, strategic choice.

#### 8. Trust & Deception Flow
* **Description:** A layer on the Influence Network where information is treated as an entity with a `Trustworthiness` score that can decay or be corrupted as it spreads.
* **Phase 1 Stub:** Rumors generated by the Supply & Demand CA are tagged with a trust level based on their source and how many "hops" they've made through the Influence Network.
* **Player Access / Feedback:** Simple UI tags on the **"Rumor Mill"**. Information is clearly marked as `[Verified Intel]`, `[Market Rumor]`, or `[Unconfirmed Hearsay]`. The player learns who to trust and can use a `Social Skill` check to `Verify Hearsay`, turning intel into a resource to be managed.

#### 9. Personal Goal Progression
* **Description:** A CA that tracks an individual NPC Contact's progress towards a personal ambition.
* **Phase 1 Stub:** The CA slowly ticks an NPC's `GoalProgress` variable. The player's actions can provide large boosts to this progress.
* **Player Access / Feedback:** The **"Contact Dossier" UI**. After discovering a goal, the player sees it listed with a simple progress bar. The completion of the goal is communicated via a direct, personal message from the NPC, which provides a clear narrative conclusion and a unique reward.

#### 10. Favor & Obligation Network
* **Description:** A CA that tracks a social currency of favors and debts between the player and NPCs.
* **Phase 1 Stub:** Player actions can create a positive (owed a favor) or negative (owe a favor) state on their link with a Contact.
* **Player Access / Feedback:** A contextual UI option. When making a difficult `Action Check`, a button may appear: **`[Call in Favor (Auto-Success)]`**. Conversely, a mission from a Contact the player owes may be flagged as: *"Declining this contract will significantly damage your standing with this contact."* This makes social currency a tangible, spendable resource.
