# 5.1 GDTLancer - Piloting Module

**Version:** 1.9
**Date:** October 31, 2025
**Related Documents:** `0.1-GDD-Main.md` (v1.9), `1-GDD-Core-Mechanics.md` (v1.6), `1.1-GDD-Core-Systems.md` (v1.5), `2.1-GDD-Development-Phase1-Scope.md` (v1.3), `3-GDD-Architecture-Coding.md` (v1.8), `5.2-GDD-Module-Combat.md` (v1.4), `7.2-GDD-Assets-Ship-Engines.md` (v1.3), `7.3-GDTLancer-Ship-Chassis.md` (v1.1)

---

## 1. Overview

This document defines the core mechanics of the Piloting Module. Its purpose is to govern all ship movement and its interaction with the core game loop. The module is divided into three distinct functional modes, designed to create a clear separation between low-stress travel, skill-based challenges, and narrative resolution.

---

## 2. Development Phase 1 Focus

This design is scoped specifically for **Phase 1 (Core Loop)**. The primary goal is to establish the fundamental flight model and the gameplay loop of transitioning between the three modes. Advanced features are planned for subsequent phases.

---

## 3. Mode 1: Free Flight

This is the default mode for intra-system travel, acting as the connective tissue between points of interest.

* **Purpose:** To allow players to move around a sector map in a low-stress, self-directed manner.
* **Mechanics:**
    * **Control Scheme:** Player has direct control over their ship using the core "boost and drift" flight model implemented via the `MovementSystem` and `NavigationSystem`.
    * **Resource Costs:**
        * This mode continuously advances the **Time Clock** at a standard rate, consuming **Time Units (TU)**.
        * It does not have a direct **Wealth Point (WP)** cost, but the time spent contributes to the periodic **Upkeep Cost** in `WP`.
    * **Event Triggering:** While in Free Flight, the **Event System** can trigger encounters (e.g., distress call, pirate ambush). A triggered event will seamlessly transition the player into a **Flight Challenge**.

---

## 4. Mode 2: Flight Challenge

This mode represents self-contained, objective-based scenarios that test the player's skill.

* **Purpose:** To provide a pure, skill-based test of the player's piloting (and potentially combat) abilities without interruption from abstract mechanics.
* **Mechanics:**
    * **Trigger:** Initiated by an event from Free Flight or by accepting a mission that requires a specific objective to be met.
    * **Objective-Based:** Each challenge has a clear, binary success condition. Examples for Phase 1 include:
        * `Neutralize all hostile targets.` (Handled by `Combat Module` rules)
        * `Survive for a specific duration.`
        * `Reach a specific coordinate.`
    * **Pure Skill:** Success or failure is determined entirely by the player's real-time performance. There are **no** `Action Checks` during a Flight Challenge.
    * **Ship Performance:** A ship's stats directly affect its handling, speed, and durability within the challenge. (See Section 6 for stat details).

---

## 5. Mode 3: Narrative Action

This mode is the TTRPG-style resolution step that occurs *after* a Flight Challenge is successfully completed.

* **Purpose:** To resolve the consequences, quality of success, and narrative fallout of the preceding skill-based challenge.
* **Mechanics:**
    * **Trigger:** Player-initiated command selected from a menu after the "CHALLENGE COMPLETE" condition is met.
    * **Core Mechanic:** Utilizes the standard `3d6 + Module Modifier` **Action Check** to determine the outcome.
    * **Consequences:** The result of the roll determines the strategic consequences. These outcomes can directly interact with narrative stub systems, such as adding a negative **"Ship Quirk"** to the player's vessel on a failure, or affecting their **"Reputation"** based on their chosen `Action Approach` (`Risky`/`Cautious`).
    * **Essential Phase 1 Actions:**
        * **Perform Evasive Departure:** Used after winning a combat encounter to determine if the getaway was clean. Failure could result in being tracked or damaging a component, potentially adding a "Ship Quirk".
        * **Execute Precision Arrival:** Used after reaching a destination coordinate to determine the quality of the docking/approach. Failure could result in minor ship damage and add a Quirk like "Jammed Landing Gear".

---

## 6. Required Phase 1 Systems & Stats

* **Required Agent Stats (from Character System):**
    * `Piloting Skill`: The base value used to calculate the `Module Modifier` for Narrative Actions.
* **Required Ship Stats (from Asset System):**
    * `Mass`: Affects inertia and drift. (Calculated from Hull Base Mass + component masses).
    * `Agility`: Affects turn rate and responsiveness. (Implemented via `max_turn_speed` in `AgentTemplate`).
    * `Thruster Power`: Affects acceleration and top speed. (Implemented via `acceleration` and `max_move_speed` in `AgentTemplate`).
* **Core System Integration:**
    * **Time System:** Must be advanced by Free Flight mode.
    * **Event System:** Required to trigger the transition from Free Flight to a Flight Challenge.
    * **Core Mechanics API:** The core function used to resolve all Narrative Actions.
    * **Asset System:** Provides the ship stats that influence flight performance.
    * **Character System:** Provides the skill stats for Narrative Action checks.
