# GDTLancer - Combat Module

**Version:** 1.5
**Date:** August 1, 2025
**Related Documents:** 0.1-GDD-Main.md (v1.8), 1.1-GDD-Core-Systems.md (v1.2), 5.1-GDD-Module-Piloting.md (v1.7)

## 1. Overview

This document defines the mechanics for ship-to-ship conflict. The module is designed to work in concert with the Piloting Module, structuring combat encounters into a distinct skill-based challenge followed by a narrative resolution.

## 2. Development Phase 1 Focus

This design is scoped for **Phase 1 (Core Loop)**. The focus is on establishing the fundamental mechanics of combat: targeting, applying damage, and clear victory conditions. Advanced features like specific sub-system targeting, electronic warfare, or complex weapon types are planned for later phases.

## 3. Mode 1: Combat Challenge

This mode represents the direct, real-time engagement between vessels. It is a self-contained test of the player's combat and piloting skill.

* **Purpose:** To provide pure, skill-based ship-to-ship fighting without interruption from abstract mechanics.
* **Mechanics:**
    * **Trigger:** Initiated by an event from Free Flight (e.g., ambush) or by accepting a mission that requires combat.
    * **Core Gameplay:** Players have direct control over their ship's movement and weapon systems. The core gameplay loop involves maneuvering, aiming, and firing to deplete the enemy's Hull Integrity.
    * **Targeting:** For Phase 1, targeting is limited to the enemy ship's main hull.
    * **Objective:** The challenge is successfully completed when all designated hostile targets are neutralized (Hull Integrity reaches 0).
    * **Consequences of Damage:** Taking significant hull damage during the challenge, even if victorious, can result in a new "Ship Quirk" being added to the player's vessel.
    * **Pure Skill:** Success in this mode is determined solely by player performance. There are **no** `Action Checks` during the Combat Challenge.

## 4. Mode 2: Narrative Action

This is the resolution step that occurs after the Combat Challenge is won. It determines the consequences and potential rewards of the engagement.

* **Purpose:** To resolve the strategic and narrative fallout of a battle.
* **Mechanics:**
    * **Trigger:** Player-initiated command selected from a menu after the last enemy ship is neutralized.
    * **Core Mechanic:** Utilizes the standard `3d6 + Module Modifier` **Action Check** to determine the outcome.
    * **Consequences:** Outcomes from these actions are a primary driver for the narrative stub systems. Results can directly modify the player's "Reputation," their standing with various "Factions," and the sector's "World Stats" in the Chronicle.
    * **Essential Phase 1 Actions:**
        * **Assess the Aftermath:** A general-purpose action to evaluate the battlefield. A success might reveal that the defeated ships belonged to a known pirate faction, improving your standing with a security faction. A failure might reveal that the fight was witnessed by a neutral party who reports your aggression, lowering your reputation.
        * **Claim Wreckage:** A specific attempt to salvage components from a disabled ship. A success yields a valuable asset or adds to `WP`. A `Risky` approach might yield more `WP` but lower your reputation ("Opportunist"). A failure could mean the wreckage is too unstable and explodes.

## 5. Required Phase 1 Systems & Stats

* **Required Agent Stats (from Character System):**
    * `Tactics Skill`: The base value used to calculate the `Module Modifier` for combat-related Narrative Actions.
* **Required Ship Stats (from Asset System):**
    * `Hull Integrity`: The ship's health.
    * `Shields`: A regenerating layer of defense that absorbs damage before Hull Integrity.
    * `Weapon Systems`: Defines damage output, range, and rate of fire for equipped weapons.
* **Core System Integration:**
    * **Event System:** To initiate combat encounters.
    * **Time System:** Combat Challenges and subsequent actions consume **Time Units (TU)**.
    * **Core Mechanics API:** To resolve Narrative Actions.
    * **Asset System:** Provides the ship's combat stats.
    * **Character System:** Provides the skill stats for Narrative Action checks.
