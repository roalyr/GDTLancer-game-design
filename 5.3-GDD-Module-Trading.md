# GDTLancer - Trading Module

**Version:** 1.2
**Date:** August 1, 2025
**Related Documents:** 0.1-GDD-Main.md (v1.8), 1.1-GDD-Core-Systems.md (v1.2)

## 1. Overview

This document defines the mechanics for all economic activities, including the buying and selling of commodities and the management of contracts. The primary function of this module is to provide the core loop for accumulating **Wealth Points (WP)**.

## 2. Development Phase 1 Focus

This design is scoped for **Phase 1 (Core Loop)**. The goal is to establish a minimal, functional economic loop. This includes basic commodities, static markets, and a simple interface for transactions. Dynamic economies, complex trade routes, and crafting are planned for later phases.

## 3. Core Mechanic: The Trade Interface

The primary interaction in the Trading Module is UI-based. This interface is the hub for all market and contract activity.

* **Purpose:** To allow players to manage their cargo, accept contracts, and execute transactions.
* **Mechanics:**
    * **Trigger:** Player docks at a location with a market and selects the "Market" or "Contracts" option.
    * **Market Gameplay:** A menu-driven interface displays the player's cargo, the station's inventory, and the current buy/sell prices for commodities. The player can execute buy and sell orders.
    * **Contract Gameplay:** A separate tab on the interface lists available contracts. For Phase 1, these are simple delivery contracts. Contracts will be flagged with a Faction owner.
    * **Economic Loop:** The goal is to buy commodities at a low price and sell them for a higher price, or to complete contracts, generating a net profit in `WP`.

## 4. Narrative Actions in Trading

These actions introduce skill, chance, and social interaction into trading, making it more than just a spreadsheet. They are the primary method for improving relationships with contacts and factions.

* **Purpose:** To provide opportunities for players to create their own advantages in the market through risk and social skill.
* **Mechanics:**
    * **Trigger:** Player-initiated special commands available within the Trade Interface.
    * **Core Mechanic:** Utilizes the standard `3d6 + Module Modifier` **Action Check** to resolve the outcome.
    * **Consequences:** Outcomes directly affect the player's relationships and standing. A successful negotiation might improve your relationship with a `Contact`, while failing a contract can damage your `Faction Standing` and `Reputation`.
    * **Essential Phase 1 Actions:**
        * **Negotiate Bulk Deal:** When buying or selling a large quantity of goods, perform this check to get a better price. This is framed as an interaction with a specific `Contact`. A success provides a `WP` bonus and may increase your `Relationship` with them. A failure can result in a worse price and a damaged relationship.
        * **Seek Rare Goods:** Perform this check to find unlisted opportunities. A success might reveal a rare commodity, offered as a "tip-off" from a friendly `Contact`. A failure consumes **Time Units (TU)** with no result.

## 5. Required Phase 1 Systems & Stats

* **Required Agent Stats (from Character System):**
    * `Trading Skill`: The base value used to calculate the `Module Modifier` for trading-related Narrative Actions.
* **Required Ship Stats (from Asset System):**
    * `Cargo Capacity`: Determines the maximum number of commodity units the ship can hold.
* **Required Commodity Stats:**
    * `Item ID`: A unique identifier.
    * `Name`: The display name of the commodity.
    * `Base Value`: The baseline price used for market calculations.
* **Core System Integration:**
    * **Character System:** Manages the player's `WP` total and `Trading Skill`. It is also the hub for `Reputation` and `Faction Standing` stubs.
    * **Inventory System:** Stores and manages player-owned commodities.
    * **Asset System:** Provides the ship's `Cargo Capacity`.
    * **Time System:** Actions like `Seek Rare Goods` consume `TU`.
    * **Core Mechanics API:** Resolves all Narrative Actions.
    * **Contact System:** The trading interface will be a primary point of interaction with Contacts.
